"use strict";(self["webpackChunkamor_flowers"]=self["webpackChunkamor_flowers"]||[]).push([[930],{5930:function(t,e,s){s.r(e),s.d(e,{default:function(){return z}});var a=s(6768),c=s(5130),r=(s(8111),s(8237),s(4232));const o={class:"basket__card"},l={class:"basket__image"},n={class:"basket__card-figure"},u=["src","alt"],k={class:"basket__details"},_={class:"basket__card-title"},i={class:"basket__card-price"},p={class:"basket__card-size"},d={class:"basket__extras"},b={class:"basket__extras-list"},m={class:"basket__dozen"},v={class:"basket__dozen-value"},L={class:"basket__product-price"},C={class:"basket__price"};var y={__name:"BasketCard",props:{product:{type:Object,required:!0}},emits:["update","remove"],setup(t,{emit:e}){const s=t,c=e,y=(0,a.EW)(()=>{const t=parseFloat(s.product.size.price.replace(/[$,]/g,"")),e=s.product.quantity,a=s.product.extras.reduce((t,e)=>t+parseFloat(e.price.replace(/[$,]/g,"")),0),c=((t+a)*e).toFixed(2);return c}),f=()=>{c("update",{...s.product,quantity:s.product.quantity+1})},E=()=>{s.product.quantity>1&&c("update",{...s.product,quantity:s.product.quantity-1})},g=()=>{c("remove",s.product)};return(0,a.sV)(()=>{c("update",{...s.product,priceTotal:y.value})}),(e,s)=>((0,a.uX)(),(0,a.CE)("div",o,[(0,a.Lk)("div",l,[s[3]||(s[3]=(0,a.Lk)("span",{class:"basket__span"},"PRODUCT",-1)),(0,a.Lk)("figure",n,[(0,a.Lk)("img",{src:t.product.primaryImage,alt:t.product.title,class:"basket__card-image"},null,8,u)])]),(0,a.Lk)("div",k,[s[4]||(s[4]=(0,a.Lk)("span",{class:"basket__span"},"QUANITY",-1)),(0,a.Lk)("h3",_,(0,r.v_)(t.product.title),1),(0,a.Lk)("p",i,(0,r.v_)(t.product.price),1),(0,a.Lk)("p",p,"SIZE: "+(0,r.v_)(t.product.size.name),1),(0,a.Lk)("div",d,[(0,a.Lk)("ul",b,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.product.extras,t=>((0,a.uX)(),(0,a.CE)("li",{class:"basket__extras-item",key:t.id},(0,r.v_)(t.name),1))),128))])]),(0,a.Lk)("div",m,[(0,a.Lk)("button",{class:"basket__dozen-button",onClick:s[0]||(s[0]=t=>E())},"-"),(0,a.Lk)("span",v,(0,r.v_)(t.product.quantity),1),(0,a.Lk)("button",{class:"basket__dozen-button",onClick:s[1]||(s[1]=t=>f())},"+")])]),(0,a.Lk)("div",L,[s[6]||(s[6]=(0,a.Lk)("span",{class:"basket__span"},"TOTAL",-1)),(0,a.Lk)("h3",C,"$"+(0,r.v_)(y.value),1),(0,a.Lk)("button",{class:"basket__delete",onClick:s[2]||(s[2]=t=>g())},s[5]||(s[5]=[(0,a.Lk)("svg",{class:"basket__delete-icon"},[(0,a.Lk)("use",{"xlink:href":"#trash"})],-1)]))])]))}};const f=y;var E=f,g=s(144),h=s(1543);const x={class:"basket"},q={class:"container basket__container"};var O={__name:"BasketView",setup(t){const e=(0,h.x)(),s=(0,a.EW)(()=>e.selectAllProducts),r=t=>{e.update(t)},o=t=>{e.remove(t)},l={comment:""},n=(0,g.Kh)({...l}),u=async()=>{try{await e.submitForm({products:s.value,comment:n.comment}),k()}catch(t){console.error("Error sending:",t)}},k=()=>{Object.assign(n,l)};return(t,e)=>((0,a.uX)(),(0,a.CE)("section",x,[(0,a.Lk)("div",q,[e[3]||(e[3]=(0,a.Lk)("div",{class:"basket__title-continue"},[(0,a.Lk)("h2",{class:"basket__title"},"YOUR CART"),(0,a.Lk)("a",{class:"basket__link-shopping"},"CONTINUE SHOPPING")],-1)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.value,t=>((0,a.uX)(),(0,a.Wv)(E,{key:t.key,product:t,onUpdate:r,onRemove:o},null,8,["product"]))),128)),(0,a.Lk)("form",{class:"basket__form",onSubmit:(0,c.D$)(u,["prevent"])},[e[1]||(e[1]=(0,a.Lk)("label",{class:"basket__form-label",for:"comment"},"CARD MESSAGE",-1)),(0,a.bo)((0,a.Lk)("textarea",{id:"comment",class:"basket__form-textarea",placeholder:"Enter your message","onUpdate:modelValue":e[0]||(e[0]=t=>n.comment=t)},null,512),[[c.Jo,n.comment]]),e[2]||(e[2]=(0,a.Lk)("button",{class:"basket__button button",type:"submit"},"CHECK OUT",-1))],32)])]))}};const T=O;var z=T}}]);
//# sourceMappingURL=930.22fbc460.js.map